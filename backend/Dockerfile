FROM node:slim

ARG APPID=5b6368533d84d93971b4a3bd8db47475
ARG BACKEND_PORT=9000

WORKDIR /usr/src/app
COPY package*.json ./
RUN npm install

COPY . .

ENV APPID=${APPID}
ENV BACKEND_PORT=${BACKEND_PORT}
ENV NODE_ENV=production

EXPOSE ${BACKEND_PORT}

CMD npm run start